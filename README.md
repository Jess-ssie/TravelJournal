## TravelJournal

`TravelJournal`— це консольний додаток, розроблений на мові C# з використанням `.NET 8.0.` Він призначений для ведення особистого щоденника подорожей, дозволяючи користувачу зберігати інформацію про поїздки, нотатки та локації. У програмі реалізована логіка обробки введених команд, яка забезпечує взаємодію з користувачем і дозволяє зберігати відповідні дані у форматі `JSON`.

### Детальніше про проєкт
**TravelJournal** — персональний щоденник подорожей, що підтримує додавання, видалення, оновлення, пошук та збереження даних у `JSON`-файлах. Інтерфейс побудований на основі структури окремих команд, що забезпечує зручну взаємодію через термінал і легкість у майбутньому розширенні функціональності.

---
## Використані технології

  ### Бібліотеки
  - `System.Linq`: допомагає фільтрувати, сортувати списки за країною, ID, назвою, тощо. `LINQ` значно спрощує реалізацію коду;
  - `System.IO`: дозволяє працювати з файлами; зчитує та зберігає `JSON`-файли (`trips.json`, `locations.json`, тощо) — основа збереження даних;
  - `System.Text.Json`: зберігає і читає об'єкти `Trip`, `Location`, `History`, `TripNote` як звичайні текстові файли у форматі `JSON`; `JsonSerializer` відповідає за конвертацію(серіалізацію/десеріалізацію) об'єктів у `JSON`;
  - `System.Collections.Generic`: дозволяє працювати зі списками (`List<Trip>`, `List<string>`), словниками команд, історією. Забезпечує гнучкість - динамічне додавання, видалення, сортування даних (наприклад, список поїздок або нотаток).Забезпечує сумісність із серіалізацією — легко зберігати у `JSON` за допомогою `JsonSerializer`.

  ### Платформа для проєкту
- `.NET 8.0`: забезпечує компіляцію, запуск, роботу з файлами, форматами, пам’яттю; включає всі базові бібліотеки (`System`, `IO`, `Linq`, `TextJson`, тощо).

  ### Мова програмування
- `C#`: об’єктно-орієнтована мова програмування, завдяки якій реалізовано логіку команд, роботи з файлами та колекціями, логіку взаємодії з користувачем через консоль, логіку серіалізації об'єктів у `JSON`.

  ### Інтерфейс взаємодії
- через `CLI`(Command Line Interface) відбувається консольна взаємодія з користувачем: введення команди, яку далі програма обробляє.


### Відхилені альтернативи 
`Newtonsoft.Json`: більш потужна бібліотека для `JSON`-серіалізації, підтримує більше налаштувань. Проте потребує підключення стороннього `NuGet`-пакета.
Також серіалізація мого проєкту проста, тому `System.Text.Json` виконує завдання швидше й без зайвих залежностей.
**Обрано** бібліотеку `System.Text.Json`, адже вона добре інтегрується з C#, зручна для збереження `List<T>` у файли (`.json`). Не потребує сторонніх пакетів на зразок `Newtonsoft.Json`.

`SQLite, PostgreSQL`: зайва складність підключення бази даних, створення таблиць, написання `SQL`-запитів, налаштування підключення — це додатковий рівень складності, не потрібний для мого невеликого проєкту. Доцільно буде перейти на такий спосіб збереження даних при збільшенні їх обсягів, коли буде потрібна багатокористувацька взаємодія, якщо зросте складність зв’язків між сутностями.
**Обрано** `JSON`-файли, адже вони гарно виконують роль локального сховища в рамках невеликого додатка. 

 Oбробка колекцій вручну замість `LINQ`: код став би довшим, менш читабельним.
**Обрано** `LINQ`, що дозволяє швидко реалізовувати код за допомогою `.FirstOrDefault(...)`, `.Where(...)`, що значно підвищує продуктивність розробки.

`Array (Trip[], string[])`: особливістю масиву є фіксований розмір, що створюватиме складність для додавання/видалення елементів зі списку подорожей.

`Queue<T>, Stack<T>`: лінійна логіка доступу (черга/стек) не підходить для довільного пошуку, а такий пошук є важливим для зручного оперування списками подорожей.

`HashSet<T>`: колекція, яка зберігає тільки унікальні значення. Не дозволяє дублікати, не зберігає порядок додавання елементів. Не підтримує відображення поїздок в порядку, а `ListTripsCommand` має показувати поїздки в порядку додавання. Також не підтримує повторення локацій, а один і той самий `Location` (наприклад, `"Київ"`) може бути в різних поїздках. 
**Обрано** `List<T>`, адже під час пошуку за індексом можна звернутись до `list[0]`, навідміну від `HashSet`. 

---
## Архітектура додатку та логіка 

### Основні компоненти та їх взаємодія///
- `Models/` — класи-сутності: `Trip`, `Location`, `TripNote`, `History`;
- `Repositories/` — реалізація доступу до даних з JSON за допомогою бібліотек;
- `Commands/` — виконання команд користувача та початкова обробка, валідація вхідних даних;
- `Services/` — для написання різних сервісів для управління компонентами;
- `Data/` — місце зберігання JSON-файлів;
- `Enums` — місце для збереження різних `enum`, які використовуються по всьому проєкту;
- `Validate`— місце для реалізації методів валідації переданих даних;
- `Program.cs` — головний вхід у додаток; валідація введених команд.

### Основні класи
- `ModelObject`: абстрактний базовий клас для моделей, що містить загальну властивість, таку як Id;
- `CommandManager`: відповідає за управління історією команд, зберігаючи їх у списку та забезпечуючи можливість очищення історії;
- `CommandHistoryStore`: забезпечує збереження/видалення та завантаження історії команд у/з JSON-файлу;
- `DataRepository`: абстрактний базовий клас для всіх репозиторіїв в проєкті; задає стандартний інтерфейс доступу до даних (`Insert`, `FindById`, `FindAll`,`Update`, `Delete`); спрощує через стандартизацію роботу з різними типами даних: `Trip`, `Location`, `TripNote`; працює з generic-параметром `T`, щоб не дублювати логіку під кожну модель;
- `TripRepository`, `TripNoteRepository`, `LocationRepository`: реалізують доступ до відповідних даних, зберігаючи їх у `JSON`-файлах та надають методи для додавання, оновлення, видалення та пошуку;
- `Program`: головна точка входу в додаток, яка ініціалізує всі необхідні компоненти та обробляє введені користувачем команди.

### Інтерфейси
`ICommand`: контракт для усіх команд, які користувач викликає з терміналу. Забезпечує єдиний спосіб виклику команд, дозволяє використовувати всі команди у `Dictionary<string, ICommand>` в `Program.cs` додавання нових команд здійснюється без змін логіки головного коду.

### Збереження даних
Усі дані зберігаються у форматі `JSON` у каталозі `Data/`. 
Це дозволяє легко переглядати та редагувати дані вручну при необхідності.

---
## Запуск додатку
1. ### Клонувати репозиторій:
```
git clone https://github.com/Jess-ssie/TravelJournal.git
```

2. ### Перейти до каталогу проєкту:
```
cd TravelJournal
```

3. ### Побудувати проєкт:
```
dotnet build
```

4. ### Запустити додаток з командою:
```
dotnet run -- help
```

---
## Перелік основних команд
`add-trip` — додати нову поїздку.

`add-trip-note` — додати нотатку до поїздки.

`add-trip-location` — додати локацію до поїздки.

`list-trips` — переглянути всі поїздки з нотатками, локаціями(країнами, містами).

`update-trip` — оновити інформацію про поїздку.

`find-trip` — знайти поїздку за назвою або ID.

`find-location` — знайти локацію.

`remove-trip` — видалити поїздку.

`remove-location` — видалити локацію.

`command-history` — переглянути історію введених команд.

`command-history-clear` — очистити історію команд.

`help` — вивести довідку з доступними командами.

---
## Заключне слово
Отже, `TravelJournal` — це зручний інструмент для ведення особистого щоденника подорожей у консольному режимі. 
Завдяки добре продуманій структурі проєкту та використанню формату `JSON` для збереження даних, застосунок легко підтримується й масштабується.

